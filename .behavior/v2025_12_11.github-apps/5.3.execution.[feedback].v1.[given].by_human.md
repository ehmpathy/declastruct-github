emit your response to the feedback into
- .behavior/v2025_12_11.github-apps/5.3.execution.[feedback].v1.[taken].by_robot.md

1. emit your response checklist
2. exec your response plan
3. emit your response checkoffs into the checklist

---

first, bootup your mechanics briefs again

npx rhachet roles boot --repo ehmpathy --role mechanic

---
---
---


# blocker.1

get after updates; dont assume anything;
          // return updated installation with synced repos
          return new DeclaredGithubAppInstallation({
            ...foundBefore,
            repositories: result.repositories,
          }) as HasMetadata<DeclaredGithubAppInstallation>;

---

# blocker.2



  /**
   * .what = whether the installation is on an organization or user account
   */
  targetType: 'Organization' | 'User';

  /**
   * .what = login name of the organization or user
   */
  targetLogin: string;


=>

/**
 * .what = what this app was installed to
 */
target: {
  /**
   * .what = whether the installation is on an organization or user account
   */
  type: 'Organization' | 'User',

  /**
   * .what = login name of the organization or user
   */
  slug: string;
}


---

# blocker.3

```ts


export const getOneAppInstallation = asProcedure(
  async (
    input: {
      by: PickOne<{
        unique: RefByUnique<typeof DeclaredGithubAppInstallation>;
        org: { org: string; app: RefByUnique<typeof DeclaredGithubApp> };
        user: { user: string; app: RefByUnique<typeof DeclaredGithubApp> };
        repo: {
          owner: string;
          repo: string;
          app: RefByUnique<typeof DeclaredGithubApp>;
        };
      }>;
    },
    context: ContextGithubApi & VisualogicContext,
  ): Promise<HasMetadata<DeclaredGithubAppInstallati
```

getOne should only ever operation by: { unique } or by: { primary }

org and user are addressable via unique key .target

repo is not supported due to the constraints of the domain entity


---

ensure that all getOne operations operate only on unique or primary keys
